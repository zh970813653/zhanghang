(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{510:function(s,t,a){},574:function(s,t,a){s.exports=a.p+"assets/img/01.cd03bcf2.png"},575:function(s,t,a){s.exports=a.p+"assets/img/02.bff3d27f.png"},576:function(s,t,a){s.exports=a.p+"assets/img/03.91d69665.png"},577:function(s,t,a){s.exports=a.p+"assets/img/04.2f485178.png"},578:function(s,t,a){s.exports=a.p+"assets/img/05.536962ed.png"},579:function(s,t,a){s.exports=a.p+"assets/img/06.efec3571.png"},580:function(s,t,a){s.exports=a.p+"assets/img/07.15930358.png"},581:function(s,t,a){s.exports=a.p+"assets/img/08.8cbcd5d5.png"},582:function(s,t,a){s.exports=a.p+"assets/img/09.4e856f7b.png"},583:function(s,t,a){s.exports=a.p+"assets/img/10.5961d01f.png"},584:function(s,t,a){s.exports=a.p+"assets/img/11.492b5ab8.png"},585:function(s,t,a){s.exports=a.p+"assets/img/12.58bb84f6.png"},586:function(s,t,a){s.exports=a.p+"assets/img/13.81eb6541.png"},587:function(s,t,a){s.exports=a.p+"assets/img/14.d45ec371.png"},588:function(s,t,a){s.exports=a.p+"assets/img/15.d72ae149.png"},589:function(s,t,a){s.exports=a.p+"assets/img/16.90e4fc89.png"},590:function(s,t,a){s.exports=a.p+"assets/img/17.75d247c7.png"},591:function(s,t,a){s.exports=a.p+"assets/img/18.febd5bfc.png"},592:function(s,t,a){s.exports=a.p+"assets/img/19.cfc9dc96.png"},593:function(s,t,a){s.exports=a.p+"assets/img/20.6fb05f13.png"},594:function(s,t,a){s.exports=a.p+"assets/img/21.0f035ab2.png"},595:function(s,t,a){s.exports=a.p+"assets/img/22.bdf9b578.png"},596:function(s,t,a){s.exports=a.p+"assets/img/23.1a7ec805.png"},597:function(s,t,a){s.exports=a.p+"assets/img/24.ae9dee19.png"},598:function(s,t,a){s.exports=a.p+"assets/img/25.607036fc.png"},599:function(s,t,a){s.exports=a.p+"assets/img/26.29ce3970.png"},600:function(s,t,a){s.exports=a.p+"assets/img/27.c618be38.png"},601:function(s,t,a){s.exports=a.p+"assets/img/28.1a09c6cb.png"},602:function(s,t,a){s.exports=a.p+"assets/img/29.34fe0eb8.png"},603:function(s,t,a){s.exports=a.p+"assets/img/30.4fcaed95.png"},604:function(s,t,a){s.exports=a.p+"assets/img/31.5d2b79bf.png"},605:function(s,t,a){s.exports=a.p+"assets/img/32.fbde2647.png"},606:function(s,t,a){s.exports=a.p+"assets/img/33.b6a8cd30.png"},607:function(s,t,a){s.exports=a.p+"assets/img/34.232f6a7e.png"},608:function(s,t,a){s.exports=a.p+"assets/img/35.3dd4c302.png"},609:function(s,t,a){s.exports=a.p+"assets/img/36.b993bee6.png"},610:function(s,t,a){s.exports=a.p+"assets/img/37.6d1d18b1.png"},611:function(s,t,a){s.exports=a.p+"assets/img/38.cdc7bfe9.png"},612:function(s,t,a){s.exports=a.p+"assets/img/39.a47eaab1.png"},613:function(s,t,a){s.exports=a.p+"assets/img/40.be5f9b97.png"},614:function(s,t,a){s.exports=a.p+"assets/img/41.c0cd48d0.png"},615:function(s,t,a){s.exports=a.p+"assets/img/42.c223672a.png"},616:function(s,t,a){s.exports=a.p+"assets/img/43.5ca72aae.png"},617:function(s,t,a){s.exports=a.p+"assets/img/44.fa25c106.png"},618:function(s,t,a){s.exports=a.p+"assets/img/45.1707572b.png"},619:function(s,t,a){s.exports=a.p+"assets/img/46.d1ae8a03.png"},620:function(s,t,a){s.exports=a.p+"assets/img/47.bd69ee8d.png"},621:function(s,t,a){s.exports=a.p+"assets/img/48.6cdfa734.png"},622:function(s,t,a){s.exports=a.p+"assets/img/49.6e8b8314.png"},623:function(s,t,a){s.exports=a.p+"assets/img/50.56cbc035.png"},624:function(s,t,a){s.exports=a.p+"assets/img/51.0fa2fda3.png"},625:function(s,t,a){"use strict";a(510)},698:function(s,t,a){"use strict";a.r(t);a(625);var n=a(12),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"webpack5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack5"}},[s._v("#")]),s._v(" webpack5")]),s._v(" "),n("h2",{attrs:{id:"webpack的功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack的功能"}},[s._v("#")]),s._v(" webpack的功能")]),s._v(" "),n("ol",[n("li",[s._v("打包：将不同类型资源按模块处理进行打包")]),s._v(" "),n("li",[s._v("静态：打包后最终产出静态资源")]),s._v(" "),n("li",[s._v("模块：webpack支持不同规范的模块化开发")])]),s._v(" "),n("h2",{attrs:{id:"安装与使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装与使用"}},[s._v("#")]),s._v(" 安装与使用")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i webpack webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建src目录并创建main.js文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" src\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用npx做简单的打包命令")]),s._v("\n$ npx webpack "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("entry "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定打包的入口文件")]),s._v("\n\n$ npx webpack "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("entry "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("output"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("path "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("build "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定打包的入口以及出口")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[n("strong",[s._v("打包成功后会生成一个build目录")]),s._v(" "),n("img",{attrs:{src:a(574)}})]),s._v(" "),n("h2",{attrs:{id:"webpack配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置文件"}},[s._v("#")]),s._v(" webpack配置文件")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建src目录同级目录的webpack.config.js文件作为webpack的配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" src\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" webpack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src/main.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包的入口")]),s._v("\n  output"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出打包的名称")]),s._v("\n    path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定的路径")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 然后修改package.json文件下的scripts， 定义一个新的命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("打包输出后:\n"),n("img",{attrs:{src:a(575)}})]),s._v(" "),n("h2",{attrs:{id:"webpack-css-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-css-loader"}},[s._v("#")]),s._v(" webpack Css-loader")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("为什么需要loader?")]),n("ol",[n("li",[s._v("默认情况下，webpack是没法打包css文件的。只能打包js文件。")]),s._v(" "),n("li",[s._v('所以我们需要有一个"人"来对css进行一个转换，然后让webpack拿到转换过后的内容进行打包执行')]),s._v(" "),n("li",[s._v("所以，这个转换的过程由loader进行工作")]),s._v(" "),n("li",[s._v("所以，loader是必须的，它的功能就是一个转换的功能")])])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装css loader")]),s._v("\n$ npm i css"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src/main.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包的入口")]),s._v("\n  output"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出打包的名称")]),s._v("\n    path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定的路径")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  module"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一般就是一个正则表达式，用于我们需要匹配的文件类型")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// loader: 'css-loader' // 只用一个loader处理时使用，且本身也没配置的参数")]),s._v("\n        use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用什么loader进行处理，use是进行多个loader处理")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注: use可以配置为数组包对象的形式。 如: [{},{}] 它的配置项为: ")]),s._v("\n use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// options 一半用于配置一些传入的参数。 通过参数传入的不同进行不同的操作。 当不配置options时 和以上配置一样")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("h2",{attrs:{id:"webpack-style-loader的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-style-loader的使用"}},[s._v("#")]),s._v(" webpack style-loader的使用")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("作用")]),n("ol",[n("li",[s._v("在界面上生成style标签")]),s._v(" "),n("li",[s._v("将处理好的css内容添加进去")])])]),n("p",[s._v("作用: 让我们处理完毕的css在页面中进行展示")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装 ")]),s._v("\n$ npm i style"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 在以上配置的基础上 use数组中添加style-loader")]),s._v("\nuse"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("注意")]),n("ol",[n("li",[s._v("use数组中的loader执行是有"),n("span",{staticClass:"lineHeight"},[s._v("先后顺序")]),s._v("的！！！")]),s._v(" "),n("li",[s._v("它的执行顺序是从右到左或者从下到上的一个执行顺序")]),s._v(" "),n("li",[s._v("以上的顺序思路是首先先将css代码进行转换让webpack可以识别打包，然后给到style-loader，让浏览器引用这个css文件样式。")])])]),n("p",[s._v("演示: 我们暂时先创建一个"),n("span",{staticClass:"lineHeight"},[s._v("html")]),s._v("文件，并且引入打包后"),n("span",{staticClass:"lineHeight"},[s._v("dist")]),s._v("文件下"),n("span",{staticClass:"lineHeight"},[s._v("build.js")]),s._v("目录"),n("br"),s._v(" "),n("img",{attrs:{src:a(576)}})]),s._v(" "),n("h2",{attrs:{id:"less-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#less-loader"}},[s._v("#")]),s._v(" less-loader")]),s._v(" "),n("p",[n("strong",[s._v("当我们需要用对应的css预处理器时，需要安装对应的loader，比如sass要安装sass-loader，less要安装less-loader")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i less"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack配置 再以上配置的基础上修改")]),s._v("\n  module"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css|less$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一般就是一个正则表达式，用于我们需要匹配的文件类型")]),s._v("\n        use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用什么loader进行处理")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"browserslistrc-工作流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#browserslistrc-工作流程"}},[s._v("#")]),s._v(" browserslistrc 工作流程")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("ol",[n("li",[s._v("当我们要做css以及js的浏览器兼容时会用到一些对应的工具，比如"),n("span",{staticClass:"lineHeight"},[s._v("postcss")]),s._v("或者"),n("span",{staticClass:"lineHeight"},[s._v("babel")]),s._v("等")]),s._v(" "),n("li",[s._v("但是这些工具要想去工作，需要一些条件，因为我们需要告诉这写工具，到底要兼容哪些浏览器，它就会利用这些条件去筛选出相应的浏览器。然后再去做兼容")]),s._v(" "),n("li",[s._v("通过"),n("a",{attrs:{href:"https://caniuse.com/usage-table"}},[s._v("caniuse.com")]),s._v("可以查询目前所有浏览器的占用率")])])]),n("p",[n("strong",[s._v("知道以上的前置知识后，我们来看看它是怎么进行工作的:")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在node_modules中安装webpack时就默认安装了一个包browserslist。我们打开对应入口文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" node_modules\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" browserslist\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("img",{attrs:{src:a(577)}}),s._v(" "),n("p",[s._v("入口文件引用了"),n("span",{staticClass:"lineHeight"},[s._v("caniuse-lite")]),s._v("。 我们可以认为当我们利用脚手架去创建了一个"),n("span",{staticClass:"lineHeight"},[s._v("vue")]),s._v("项目或者"),n("span",{staticClass:"lineHeight"},[s._v("react")]),s._v("项目一之后。 它里面默认也安装好了"),n("span",{staticClass:"lineHeight"},[s._v("browserslist")]),s._v("，而"),n("span",{staticClass:"lineHeight"},[s._v("browserslist")]),s._v("在工作的时候再内部调用了"),n("span",{staticClass:"lineHeight"},[s._v("caniuse-lite")]),s._v("，往"),n("span",{staticClass:"lineHeight"},[s._v("caniuse.com")]),s._v("发送请求，请求回来的数据就是我们写的对应的配置所满足要求的浏览器平台。 然后在配合我们加到"),n("span",{staticClass:"lineHeight"},[s._v("webpack")]),s._v("中的工具，再对对应的浏览器平台进行兼容的处理。 这就是它一个完整的工作流程和原理。")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("常用配置须知")]),n("p",[n("strong",[s._v("在查询条件中有几个常见的字段")])]),s._v(" "),n("ol",[n("li",[s._v("default: 表示市场占有率大于0.5的浏览器。")]),s._v(" "),n("li",[n("blockquote",[n("p",[s._v("1%: 表示市场占有率大于1的浏览器。")])])]),s._v(" "),n("li",[s._v("dead:  浏览器已经被废弃!  什么样的浏览器是已经废弃的浏览器呢? 24个月这个浏览器没有更新的话就是会默认已经废弃。")]),s._v(" "),n("li",[s._v("not dead: 浏览器已经没有被废弃!")]),s._v(" "),n("li",[s._v("last 2 version:  某一个浏览器最新的两个版本")])])]),n("h3",{attrs:{id:"在package-json中进行browserslist配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在package-json中进行browserslist配置"}},[s._v("#")]),s._v(" 在package.json中进行browserslist配置")]),s._v(" "),n("img",{attrs:{src:a(578)}}),s._v(" "),n("p",[s._v("在根目录中执行命令 "),n("span",{staticClass:"lineHeight"},[s._v("npx browserslist")])]),s._v(" "),n("img",{attrs:{src:a(579)}}),s._v(" "),n("p",[s._v("可以看到对应返回的浏览器都是2 - 3个版本。 我们对配置稍作修改，并执行命令 "),n("span",{staticClass:"lineHeight"},[s._v("npx browserslist")]),n("br"),s._v(" "),n("img",{attrs:{src:a(580)}}),n("br"),s._v("\n可以看到 我们把"),n("span",{staticClass:"lineHeight"},[s._v("last 2 version")]),s._v("修改为"),n("span",{staticClass:"lineHeight"},[s._v("last 4 version")]),s._v(" 返回的浏览器数量发生了改变")]),s._v(" "),n("h3",{attrs:{id:"创建-browserslistrc文件进行配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建-browserslistrc文件进行配置"}},[s._v("#")]),s._v(" 创建.browserslistrc文件进行配置")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" node_modules\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("browserslistrc\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("img",{attrs:{src:a(581)}}),s._v(" "),n("h2",{attrs:{id:"postcss-loader-处理兼容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#postcss-loader-处理兼容"}},[s._v("#")]),s._v(" postcss-loader 处理兼容")]),s._v(" "),n("p",[s._v("css样式并不是都兼容所有浏览器的。 我们遇到使用兼容浏览器的工具"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("去帮助我们兼容浏览器")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i postcss"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader postcss"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("preset"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("env "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 根目录下创建文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" node_modules\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" postcss"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 对应配置 在postcss.config.js中")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-preset-env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在webpack.config.js中 在use原有的基础上修改")]),s._v("\nuse"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-loader'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("strong",[s._v("工作流程:先由less-loader将less代码进行转换，再由postcss-loader进行浏览器兼容，然后再到css-loader让webpack可以打包css代码，然后再到style-loader让页面挂载css")])]),s._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("注意")]),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("虽然起到了兼容浏览器的作用。 但是如果要给样式加上兼容浏览器前缀，需要配合"),n("span",{staticClass:"lineHeight"},[s._v("autoprefixer")])]),s._v(" "),n("li",[s._v("当css写了十六进制的颜色样式时，"),n("span",{staticClass:"lineHeight"},[s._v("postcss-preset-env")]),s._v("会自动帮我们转换为"),n("span",{staticClass:"lineHeight"},[s._v("rgba")])]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("postcss-preset-env")]),s._v("内部已经包含了"),n("span",{staticClass:"lineHeight"},[s._v("autoprefixer")]),s._v("所以不需要额外安装"),n("span",{staticClass:"lineHeight"},[s._v("autoprefixer")])])])]),n("h2",{attrs:{id:"importloaders-属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#importloaders-属性"}},[s._v("#")]),s._v(" importLoaders 属性")]),s._v(" "),n("p",[s._v("通过以上配置。postcss-loader可以做到css代码对浏览器的兼容。 但是还有一个问题，如果是css嵌套呢?")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 新建文件login.css,然后通过@import的方式在index.css中引入login.css")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" src\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" assets\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("login"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("css\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("img",{attrs:{src:a(582)}}),s._v(" "),n("p",[s._v("执行打包命令 npm run build发现:"),n("br"),s._v(" "),n("img",{attrs:{src:a(583)}})]),s._v(" "),n("p",[s._v("并没有对login.css中的代码进行兼容前缀的添加，这是为什么呢?")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("流程分析")]),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("index.css")]),s._v("中"),n("span",{staticClass:"lineHeight"},[s._v("@import")]),s._v("导入了"),n("span",{staticClass:"lineHeight"},[s._v("login.css")])]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("index.css")]),s._v("可以被匹配，当它被匹配到之后就是"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("进行工作")]),s._v(" "),n("li",[s._v("基于当前代码，"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("拿到了"),n("span",{staticClass:"lineHeight"},[s._v("index.css")]),s._v("当中的代码后分析基于我们的筛选条件并不需要做处理")]),s._v(" "),n("li",[s._v("最终将代码给到了"),n("span",{staticClass:"lineHeight"},[s._v("css-loader")])]),s._v(" "),n("li",[s._v("此时的"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("css-loader是可以处理"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("@importxxx.css文件的,但是不会回头再让"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("进行再次处理")])])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 基于以上流程情况 我们需要对css-loade进行配置:")]),s._v("\n  module"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css|less$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一般就是一个正则表达式，用于我们需要匹配的文件类型")]),s._v("\n        use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              importLoaders"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将内容推送至自身前1次 重新进行处理")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n          "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用什么loader进行处理")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[n("strong",[s._v("importLoaders: 将内容推送至自身前1次 重新进行处理。当匹配带对应的css文件后会再次给到postcss-loader进行处理")]),n("br"),s._v("\n配置好后并打包发现，通过"),n("span",{staticClass:"lineHeight"},[s._v("@import")]),s._v("引入的"),n("span",{staticClass:"lineHeight"},[s._v("css")]),s._v("已经可以被成功的进行兼容处理了\n"),n("img",{attrs:{src:a(584)}})]),s._v(" "),n("h2",{attrs:{id:"file-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#file-loader"}},[s._v("#")]),s._v(" file-loader")]),s._v(" "),n("h3",{attrs:{id:"当是img标签引入图片时"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#当是img标签引入图片时"}},[s._v("#")]),s._v(" 当是img标签引入图片时")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i file"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在rules下增加一个对象配置项")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(png|svg|gif|jpe?g)$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      esModule"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//不转为esModule")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("file-loader注意点")]),n("ol",[n("li",[s._v("使用"),n("span",{staticClass:"lineHeight"},[s._v("require")]),s._v("引入图片时，此时如果不配置"),n("span",{staticClass:"lineHeight"},[s._v("esModule: false")]),s._v(", 则需要"),n("span",{staticClass:"lineHeight"},[s._v("require('图片路径').default")]),s._v("方式导出")]),s._v(" "),n("li",[s._v("可以在配置配置当中设置 "),n("span",{staticClass:"lineHeight"},[s._v("esModule: false")])]),s._v(" "),n("li",[s._v("采用"),n("span",{staticClass:"lineHeight"},[s._v("import xxx from 图片资源")]),s._v("，此时可以直接使用")])])]),n("h3",{attrs:{id:"当是背景图片引入图片时"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#当是背景图片引入图片时"}},[s._v("#")]),s._v(" 当是背景图片引入图片时")]),s._v(" "),n("img",{attrs:{src:a(585)}}),s._v(" "),n("p",[s._v("如图所示: 我们通过"),n("span",{staticClass:"lineHeight"},[s._v("background:url")]),s._v("的方式引入一个图片 ，然后打包后发现没有成功的引入图片，这是为什么呢?")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("代码分析")]),n("ol",[n("li",[s._v("当我们引入"),n("span",{staticClass:"lineHeight"},[s._v("css")]),s._v("文件时。会被配置项"),n("span",{staticClass:"lineHeight"},[s._v("rules")]),s._v("下"),n("span",{staticClass:"lineHeight"},[s._v("/.css|less$/")]),s._v("所匹配到并进行处理")]),s._v(" "),n("li",[s._v("由于本身是css文件，所以"),n("span",{staticClass:"lineHeight"},[s._v("less-loader")]),s._v("不会对它进行处理，直接交给"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("处理。")]),s._v(" "),n("li",[s._v("经过"),n("span",{staticClass:"lineHeight"},[s._v("postcss-loader")]),s._v("处理后本身没有太大变化，然后又被交给"),n("span",{staticClass:"lineHeight"},[s._v("css-loader")]),s._v("进行处理")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("css-loader")]),s._v("是可以识别其中的url的。")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("css-loader")]),s._v("当看到url时会自动替换为"),n("span",{staticClass:"lineHeight"},[s._v("require")]),s._v("语法。 而"),n("span",{staticClass:"lineHeight"},[s._v("require")]),s._v("在最新的版本中导出的是"),n("span",{staticClass:"lineHeight"},[s._v("esModule")]),s._v("。")]),s._v(" "),n("li",[s._v("所以打包后我们看不到对应的图片路径，我们可以进行配置解决问题")])])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在原有的基础上进行修改")]),s._v("\n use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n       importLoaders"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将内容推送至自身前1次 重新进行处理")]),s._v("\n       esModule"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n   "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h2",{attrs:{id:"设置图片名称与输出-tscproj"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置图片名称与输出-tscproj"}},[s._v("#")]),s._v(" 设置图片名称与输出 tscproj")]),s._v(" "),n("p",[n("strong",[s._v("当我们使用file-loader对图片打包之后。 打包后的结果我们也想进行一些处理，比如：")])]),s._v(" "),n("ol",[n("li",[s._v("我们希望文件名称可以按照自己定制的规则进行生成")]),s._v(" "),n("li",[s._v("我们想像打包之前一样，css img等都放在各自的文件夹中进行维护。")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("  module"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css|less$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一般就是一个正则表达式，用于我们需要匹配的文件类型")]),s._v("\n        use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              importLoaders"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将内容推送至自身前1次 重新进行处理")]),s._v("\n              esModule"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n          "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用什么loader进行处理")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(png|svg|gif|jpe?g)$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              esModule"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 占位符")]),s._v("\n              name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[name].[hash:6].[ext]'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 保留之前的名称，并再后面增加6位长度哈希，再将原文件的后缀名称放入")]),s._v("\n              outputPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'img'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//将图片打包置dist下xxx目录下，这里指定img就是打包置img目录下")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包后发现对应的图片打包后会保留本名，并增加6位哈希，打包置dist/img目录下。")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("h2",{attrs:{id:"url-loader-处理图片"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#url-loader-处理图片"}},[s._v("#")]),s._v(" url-loader 处理图片")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i url"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loade "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 还需要将file-loader改为url-loader即可")]),s._v("\nuse"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'url-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      esModule"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[name].[hash:6].[ext]'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      outputPath"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'img'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      limit"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//1kb为1024b 25*1024就会25kb")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("file-loader与url-loader之间的区别")]),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("file-loader")]),s._v("做的事情就好比是把当前图片的名称返回或者路径返回，然后把我们要打包的图片资源拷贝到对应dist目下")]),s._v(" "),n("li",[s._v("而 "),n("span",{staticClass:"lineHeight"},[s._v("url-loader")]),s._v("做的事情就是把我们当前要打包的图片资源以 "),n("span",{staticClass:"lineHeight"},[s._v("base64")]),s._v("url的方式加载到代码中")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("url-loader")]),s._v("的好处就是减少请求次数。但是如果图片过大，这样而且会不利于首屏的加载")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("limit")]),s._v("可以控制图片是否被拷贝。 比它大的话就拷贝，比它小就转为 "),n("span",{staticClass:"lineHeight"},[s._v("base64")]),s._v("的形式")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("limit")]),s._v("是 "),n("span",{staticClass:"lineHeight"},[s._v("url-loader")]),s._v("中才能配置的")])])]),n("h2",{attrs:{id:"asset-处理图片"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#asset-处理图片"}},[s._v("#")]),s._v(" asset 处理图片")]),s._v(" "),n("p",[s._v("通过file-loader或者url-loader 我们可以对图片资源进行打包。但是在新版的webpack5我们可以通过asset方式对图片资源进行处理。")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("asset常见的配置选项")]),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("asset/resource")]),s._v("相当于 "),n("span",{staticClass:"lineHeight"},[s._v("file-loader")]),s._v("，可以把我们的目标资源直接拷贝一份放入指定目录")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("asset/inline")]),s._v(" 把相应的资源添加到对应的代码里面去， 相当于 "),n("span",{staticClass:"lineHeight"},[s._v("url-loader")])]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("asset/source")]),s._v(" 相当于 "),n("span",{staticClass:"lineHeight"},[s._v("raw-loader")])]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("asset")]),s._v(" 做动态的判断 相当于 "),n("span",{staticClass:"lineHeight"},[s._v("url-loader")]),s._v("中的limit")])])]),n("p",[s._v("接下来看配置")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// asset/resource")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(png|svg|gif|jpe?g)$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'asset/resource'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  generator"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定打包输出的路径")]),s._v("\n    filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'img/[name].[hash:6][ext] '")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// asset方式会默认帮我们加上. 所以[hash:6][ext]中间我们不需要手动加.了")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// asset/inline => 这种方式进行打包的话会类似没配置limit的url-loader，不管图片大小直接生成base64文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(png|svg|gif|jpe?g)$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'asset/inline'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// asset")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(png|svg|gif|jpe?g)$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'asset'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  generator"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定打包输出的路径")]),s._v("\n    filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'img/[name].[hash:6][ext]'")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// asset方式会默认帮我们加上. 所以[hash:6][ext]中间我们不需要手动加.了")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解析")]),s._v("\n  parser"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    dataUrlCondition"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      maxSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 类似url-loader的limit配置 ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h2",{attrs:{id:"asset-处理图标字体"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#asset-处理图标字体"}},[s._v("#")]),s._v(" asset 处理图标字体")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(ttf|woff2?|svg|eot)$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asset/resource"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  generator"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"font/[name].[hash:6][ext]"')]),s._v(" \n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h2",{attrs:{id:"babel的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#babel的使用"}},[s._v("#")]),s._v(" babel的使用")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("为什么需要babel")]),n("ol",[n("li",[s._v("在react中我们会写对应的jsx， 在平常开发中我们会写ts以及大量的es6代码。")]),s._v(" "),n("li",[s._v("这些语法在一些浏览器是不能被识别的。")]),s._v(" "),n("li",[s._v("所以我们需要借助工具=>babel 来帮我们进行转换，让浏览器识别")])])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i babel"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n$ npm i preset"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("env "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 在rules下增加一条配置项")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      options"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// @babel/preset-env包含了所有语法转换的规则，需要和babel-loader一起使用")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[n("strong",[s._v("babel-loader除了以上配置，我们还可以创建babel.config.js文件在里面进行配置")]),n("br"),s._v(" "),n("img",{attrs:{src:a(586)}})]),s._v(" "),n("p",[s._v("经过在babel.config.js配置后，webpack.config.js中的配置可以修改为")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"polyfill-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#polyfill-配置"}},[s._v("#")]),s._v(" polyfill 配置")]),s._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("注意")]),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("babel-loader")]),s._v("配合"),n("span",{staticClass:"lineHeight"},[s._v("preset-env")]),s._v("不能帮我们转换所有es6最新的代码。 比如promise。")]),s._v(" "),n("li",[s._v("要转换es6最新的代码，我们需要需要借助"),n("span",{staticClass:"lineHeight"},[s._v("@babel/polyfill")]),s._v("。")]),s._v(" "),n("li",[s._v("然而。 在最新的"),n("span",{staticClass:"lineHeight"},[s._v("@babel/bolyfill")]),s._v("中已经不建议我们直接去使用了，而是建议我们使用另外两部分"),n("span",{staticClass:"lineHeight"},[s._v("core.js regenerator-runtime/runtime")])])])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i core"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("js regenerator"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("runtime\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在babel.config.js配置下做修改")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// false: 不对当前的js处理做polyfille的填充")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// usage  根据用户源代码当中所使用到的新语法进行填充")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// entry  依据我们当前筛选出来的浏览器决定填充什么")]),s._v("\n          useBuiltIns"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'usage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          corejs"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h2",{attrs:{id:"webpack插件plugin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack插件plugin"}},[s._v("#")]),s._v(" webpack插件Plugin")]),s._v(" "),n("p",[s._v("plugin是webpack的插件。它类似于生命周期，从打包开始到结束，这中间过程可以做很多事情。")]),s._v(" "),n("h2",{attrs:{id:"clean-webpack-plugin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#clean-webpack-plugin"}},[s._v("#")]),s._v(" clean-webpack-plugin")]),s._v(" "),n("p",[n("strong",[s._v("作用：帮助我们在打包完成后对输出目录(一般是dist)进行一次清空再将内容放入")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i clean"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("CleanWebpackPlugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'clean-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在module.exports配置plugins")]),s._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"html-webpack-plugin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#html-webpack-plugin"}},[s._v("#")]),s._v(" html-webpack-plugin")]),s._v(" "),n("p",[n("strong",[s._v("作用：可以帮我们按指定目录的html进行打包，并自动将js文件引入此模板")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i html"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("CleanWebpackPlugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'clean-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * title: html文件的网页标题\n * template是以哪个模板为基础去打包生成新的模板\n */")]),s._v("\nplugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    title"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HtmlWebpackPlugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    template"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./public/index.html'")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"copy-webpack-plugin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#copy-webpack-plugin"}},[s._v("#")]),s._v(" copy-webpack-plugin")]),s._v(" "),n("p",[n("strong",[s._v("作用：可以帮我们从指定目录下拷贝一份放入输出目录(放入dist目录)")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i html"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("CleanWebpackPlugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'clean-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" CopyWeebpackPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'copy-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 由于HtmlWebpackPlugin中以及指定了template，所以CopyWeebpackPlugin在拷贝的时候需要忽略其目录下的index.html。否则会报错")]),s._v("\nplugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    title"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HtmlWebpackPlugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    template"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./public/index.html'")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CopyWeebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 拷贝配置项")]),s._v("\n      patterns"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          from"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//拷贝public目录")]),s._v("\n          globOptions"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            ignore"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 忽略不拷贝的内容 **表示从from配置的目录下查找")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("h2",{attrs:{id:"webpack-dev-server"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server"}},[s._v("#")]),s._v(" webpack-dev-server")]),s._v(" "),n("p",[n("strong",[s._v("当我们修改src目录下的源代码时，每次都要手动的去进行一次build。有没有办法可以让我们直接去监听文件的变化，从而自动进行打包呢 ?")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// --watch 在package.json文件中 script下build命令增加--watch")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --watch"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("watch: true 在webpack.config.js中配置"),n("br"),s._v(" "),n("img",{attrs:{src:a(587)}})]),s._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("这两个模式的不足")]),n("ol",[n("li",[s._v("所有源代码变动后都会被监听到")]),s._v(" "),n("li",[s._v("每次编译成功后都要进行一次读写")]),s._v(" "),n("li",[s._v("不能实现局部刷新")])])]),n("p",[s._v("所以我们在这里，考虑使用webpack-dev-server，来帮我们更高效率的开发")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在package.json文件中 script下增加dev命令")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack server"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 然后控制台执行命令 npm run dev即可")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"hmr-hot-module-replacement"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hmr-hot-module-replacement"}},[s._v("#")]),s._v(" HMR Hot-Module-Replacement")]),s._v(" "),n("p",[s._v("如果在开发过程中改变了内容只需要更新改变的内容而不需要刷新浏览器怎么做 ? ------- 使用热模块更新")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("ol",[n("li",[s._v("自动刷新，整个网页全部刷新，速度较慢")]),s._v(" "),n("li",[s._v("自动刷新，整个网页全部刷新，状态会丢失")]),s._v(" "),n("li",[s._v("热更新: 新代码生效，网页不刷新，状态不丢失")])])]),n("p",[n("strong",[s._v("配置")]),s._v(" "),n("strong",[s._v("target:web。屏蔽浏览器兼容性平台属性")]),s._v(" 一般在开发环境中使用\n"),n("img",{attrs:{src:a(588)}}),s._v("\n这么写是没有效果的，我们还需要在入口文件中写这么一段代码"),n("br"),s._v(" "),n("img",{attrs:{src:a(589)}})]),s._v(" "),n("h2",{attrs:{id:"关于output中的path"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关于output中的path"}},[s._v("#")]),s._v(" 关于output中的path")]),s._v(" "),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("publicPath")]),s._v("：告知html，将来去哪个地方找你想加载的资源 当前的域名+设置的public+filename来进行查找")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("path")]),s._v(": 打包后将资源放入哪个目录下")])]),s._v(" "),n("h2",{attrs:{id:"关于devserver中的path"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关于devserver中的path"}},[s._v("#")]),s._v(" 关于devServer中的path")]),s._v(" "),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("publicPath")]),s._v("：将指定本地服务所在的目录")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("contentBase")]),s._v("：我们打包之后的资源如果说依赖其它资源，此时就告知去哪找。")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("watchContentBase")]),s._v("：contentBase属性下的内容如果发生了变化。告知浏览器进行刷新")])]),s._v(" "),n("h2",{attrs:{id:"devserver-常用配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#devserver-常用配置"}},[s._v("#")]),s._v(" devServer 常用配置")]),s._v(" "),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("hotOnly: true")]),s._v("当前一个界面上可能会有很多的状态。其中某一个状态在执行的过程中已经发生了改变。但是由于这个界面上用了多个组件，其中某一个组件在开发的过程中出现了语法错误，如果不配置hotOnly: true的情况下，我们将语法错误的位置将语法改对后，默认情况下对整个页面进行一次刷新的操作。如果整个页面刷新，那么之前更改的值也会回到初始的状态。而hotOnly就可以解决这个问题。")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("open: true")]),s._v("自动打开浏览器")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("port: xxxx")]),s._v("以xxxx为准，默认打开的端口号")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("compress: true")]),s._v("开启服务端的gzip压缩")])]),s._v(" "),n("h2",{attrs:{id:"devserver中的proxy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#devserver中的proxy"}},[s._v("#")]),s._v(" devServer中的proxy")]),s._v(" "),n("p",[s._v("proxy：代理。在开发环境下，由于受到"),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/66047383"}},[s._v("同源策略")]),s._v("的影响。客服端在向服务器请求数据时会存在跨域的情况"),n("br"),s._v("\n通过proxy可以在开发模式下解决跨域的问题")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("devServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  hot"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启热模块更新")]),s._v("\n  open"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  compress"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  proxy"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /api 可以自定义 为标识符，如果请求的路径中有/api那么会帮我们进行一次转发到对应的target https://api.github.com")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/api'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      target"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://api.github.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 代理的路径")]),s._v("\n      pathRewrite"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^/api"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//pathRewrite是使用proxy进行代理时，对请求路径进行重定向以匹配到正确的请求地址，")]),s._v("\n      changeOrigin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"source-map"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#source-map"}},[s._v("#")]),s._v(" source-map")]),s._v(" "),n("p",[n("strong",[s._v("source-map：映射=>在调试的时候可以定位到源代码的中的信息。当我们开发时有模块报错，可以准确的帮助我们定位到具体模块的位置")]),n("br"),s._v(" "),n("strong",[s._v("在开发环境中，mode:development的情况下。devtool配置'source-map'就可以简单的开启source-map")]),n("br"),s._v(" "),n("img",{attrs:{src:a(590)}})]),s._v(" "),n("p",[n("strong",[s._v("source-map和inline-source-map之间的区别")]),n("br"),s._v("\n配置source-map会在打包后生成一个.map的文件。里面记录了一些映射的关系。"),n("br"),s._v("\n而配置inline-source-map则这段映射关系会变成base64的字符串被放到打包文件index.js的底部。"),n("br"),s._v(" "),n("strong",[s._v("inline-cheap-source-map")]),n("br"),s._v("\n当我们遇到代码量很大的时候，如果我们代码出了错误，当devtool配置项没有cheap的时候，source-map会告诉你的代码在第几行第几个字符。(会精确到哪一行哪一列除了问题)，这样的映射比较耗费性能。"),n("br"),s._v("\n如果加了cheap，就不会精确到哪一行哪一列了，只会告诉你在哪一行出了问题。"),n("br"),s._v(" "),n("strong",[s._v("inline-cheap-module-source-map")]),n("br"),s._v("\n当没有module的时候。source-map只会记录业务代码，不会去管第三方的模块或者一些loader的代码。"),n("br"),s._v("\n配置了module就会管第三方模块以及loader等代码。 cheap-module会对loader的处理更加的友好\n"),n("strong",[s._v("eval")]),s._v("\n打包后在出口文件中通过eval的方式来生成source-map的映射关系的-----eval这种方式是执行效率最快性能最好的一种打包方式。 但是当代码复杂的时候，使用eval可能会提示的不是很全面。"),n("br"),s._v(" "),n("strong",[s._v("在开发环境以及生产环境")]),n("br"),s._v("\n在开发环境中建议用inline-cheap-module-source-map 。 这种方式提示的错误是最全的。 同时。打包速度也是比较快的。"),n("br"),s._v("\n在线上环境中如果代码出了问题需要快速定位。 可以配置cheap-module-source-map。"),n("br"),s._v(" "),n("a",{attrs:{href:"https://webpack.docschina.org/configuration/devtool/#qualities"}},[s._v("devtool更多配置")])]),s._v(" "),n("h2",{attrs:{id:"ts-loader编译ts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ts-loader编译ts"}},[s._v("#")]),s._v(" ts-loader编译ts")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装")]),s._v("\n$ npm i typescript typescript"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用 rules增加配置项")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.ts$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ts-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 或者用babel-loader进行编译，同时在babel.config.js中进行配置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.ts$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  use"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// babel.config.js")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// false: 不对当前的js处理做polyfille的填充")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// usage  根据用户源代码当中所使用到的新语法进行填充")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// entry  依据我们当前筛选出来的浏览器决定填充什么")]),s._v("\n          useBuiltIns"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'usage'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          corejs"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-typescript'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"},[s._v("区别")]),n("ol",[n("li",[s._v("在执行"),n("span",{staticClass:"lineHeight"},[s._v("npm run build")]),s._v("中，当我们执行了ts中的数据类型，并且传参时错误类型的情况下。 "),n("span",{staticClass:"lineHeight"},[s._v("babel-loader")]),s._v("不会帮我们校验，直接打包成功，"),n("span",{staticClass:"lineHeight"},[s._v("ts-loader")]),s._v("会帮我们校验并打包时抛出错误")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("ts-loader")]),s._v("在编译ts代码时我们没法对es6最新代码进行编译 => 比如"),n("span",{staticClass:"lineHeight"},[s._v("promise")])]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("babel-loader")]),s._v("虽然没法在打包语法校验，但是可以进行"),n("span",{staticClass:"lineHeight"},[s._v("polyfill")]),s._v("的填充用于解析最新的es6代码")])])]),n("p",[s._v("针对与以上的问题， 我们没有没办法既可以让webpack打包的时候做语法的校验又可以同时对最新的es6语法进行编译呢?"),n("br"),s._v(" "),n("strong",[s._v("思路：我们可以用babel-loader在转换之前进行一次语法的编译后，再进行打包的操作")]),n("br"),s._v("\n通过tsc命令可以对ts语法进行效验，那么我们可以在package.json中进行如下配置  "),n("span",{staticClass:"lineHeight"},[s._v("--noEmit")]),s._v("是为了在进行tsc语法校验时会不生成一个js文件\n"),n("img",{attrs:{src:a(591)}})]),s._v(" "),n("h2",{attrs:{id:"vue语法打包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue语法打包"}},[s._v("#")]),s._v(" vue语法打包")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装 ")]),s._v("\n$ npm i vue vue"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loader vue"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("template"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("compiler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("对应文件内容：\n"),n("img",{attrs:{src:a(592)}})]),s._v(" "),n("p",[s._v("对应配置：\n"),n("img",{attrs:{src:a(593)}})]),s._v(" "),n("p",[n("strong",[s._v("当vue-loader的版本是15或者15以上就按上图所配置，如果是15以下，则不需要从vue-loader/lib/plugin里面去找对应的plugin去进行new操作了")])]),s._v(" "),n("h2",{attrs:{id:"区分打包环境-合并配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#区分打包环境-合并配置"}},[s._v("#")]),s._v(" 区分打包环境，合并配置")]),s._v(" "),n("p",[s._v("在实际的项目开发中。我们需要区分开发环境以及线上环境。\n同样的，webpack打包也需要分开发环境以及线上环境。 我们可以在根目录中创建文件件config:"),n("br"),s._v(" "),n("strong",[s._v("webpack.common.js")]),s._v(" "),n("img",{attrs:{src:a(594)}})]),s._v(" "),n("p",[n("strong",[s._v("webpack.dev.js")]),s._v(" "),n("img",{attrs:{src:a(595)}})]),s._v(" "),n("p",[n("strong",[s._v("webpack.prod.js")]),s._v(" "),n("img",{attrs:{src:a(596)}})]),s._v(" "),n("p",[n("strong",[s._v("package.json")]),s._v(" "),n("img",{attrs:{src:a(597)}})]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("ol",[n("li",[s._v("在"),n("span",{staticClass:"lineHeight"},[s._v("webpack.common.js")]),s._v("中，我们保存了公共的配置比如打包的入口和出口以及各个loader等。总结就是将开发环境和线上环境都需要的公共配置进行了保留")]),s._v(" "),n("li",[s._v("在"),n("span",{staticClass:"lineHeight"},[s._v("dev")]),s._v("和"),n("span",{staticClass:"lineHeight"},[s._v("prod")]),s._v("对应的文件中如图所示我们保留各个环境所需要的的内容")]),s._v(" "),n("li",[s._v("通过"),n("span",{staticClass:"lineHeight"},[s._v("webpack-merge")]),s._v("这个包将公共的配置和单个环境的配置进行合并")]),s._v(" "),n("li",[s._v("在"),n("span",{staticClass:"lineHeight"},[s._v("webpack.common.js")]),s._v("导出的是一个函数，其中env接收的是"),n("span",{staticClass:"lineHeight"},[s._v("package.json")]),s._v("中"),n("span",{staticClass:"lineHeight"},[s._v("--env")]),s._v("输入的变量从而进行判断再合并")])])]),n("p",[n("strong",[s._v("在打包的过程中我们可能会报错。 这是因为我们的配置文件进行了位置的改变，从而导致原始配置的一些路径不正确了。 我们可以针对这个错误原因对路径进行一个处理")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在目录config中创建文件paths.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// paths.js的目的就是为了确定我们的路径从哪里开始找")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// process.cwd() 当我们启动一个项目的时候，每个项目进程都有对应的自己的目录cwd就是拿到当前启动进程的目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" appDir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cwd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("resolveApp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("relativePath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("appDir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("relativePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports resolveApp\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("在webpack.common.js中引入并进行路径的替换\n"),n("img",{attrs:{src:a(598)}})]),s._v(" "),n("h2",{attrs:{id:"代码分割"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码分割"}},[s._v("#")]),s._v(" 代码分割")]),s._v(" "),n("p",[s._v("当一个项目中引入了很多的文件或者插件。 如果只打包到一个文件中文件的体积会很大，首次加载的时间会很长。所以我们需要对打包文件进行一个拆分"),n("br"),s._v(" "),n("strong",[s._v("optimization.splitChunks")]),s._v("\n在webpack4.0以上版本时，移除了原有的CommonsChunkPlugin 改为使用optimization.splitChunks")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//webpack.common.js目录下 配置项增加optimization配置")]),s._v("\noptimization"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  minimizer"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TerserPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      extractComments"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack5在打包第三方库时会单独抽出其中的注释，从而生成一个txt文件。 如果不需要这么做，将这个配置设置为false")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  splitChunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    chunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'all'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// initial 对同步代码进行分割 async 对异步代码进行分割")]),s._v("\n    minSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 检测引入的库是否大于20000这个字节(20kb) 才会做代码分割")]),s._v("\n    minChunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 至少引入了几次才会被代码分割")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// maxAsnycRequests: 5, // 同时加载的模块数最多是五个(超过了5个模块只会对前五个模块进行分割)")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// maxInitialRequests: 3, // 初始页面加载时并行请求最大数小于等于3")]),s._v("\n    automaticNameDelimiter"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文件生成时以书面连接符号去连接")]),s._v("\n    cacheGroups"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 缓存组")]),s._v("\n      vendors"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果分割的库符合这一项配置的要求，打包后前面会生成vendors")]),s._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("[\\\\/]node_modules[\\\\/]")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 检测引入的库是否在node_modules下")]),s._v("\n        priority"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//权重等级，如果满足vendors这个组，再看default这个组是否也满足，如果都满足，则取决于priority的大小")]),s._v("\n        filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/[name]_vendors.js'")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// name与filename 之前的区别就是filename可以用占位符去操作，而name是写死")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        minChunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        reuseExistingChunk"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果一模块已经被打包过了，在打包的时候直接忽略这个模块，用之前被打包的模块")]),s._v("\n        filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/common.js'")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("img",{attrs:{src:a(599)}}),s._v(" "),n("h2",{attrs:{id:"runtimechunk的作用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#runtimechunk的作用"}},[s._v("#")]),s._v(" runtimeChunk的作用")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.jianshu.com/p/714ce38b9fdc"}},[s._v("作用链接")]),s._v(" "),n("br"),s._v(" "),n("a",{attrs:{href:"https://webpack.docschina.org/configuration/optimization/#optimizationruntimechunk"}},[s._v("官方配置")])]),s._v(" "),n("h2",{attrs:{id:"代码懒加载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码懒加载"}},[s._v("#")]),s._v(" 代码懒加载")]),s._v(" "),n("p",[s._v("在项目打开的时候。有些模块或者有些组件我们是不需要的。 在用到的时候才需要。 那这时候我们需要怎么去做呢?\n案列:\n"),n("img",{attrs:{src:a(600)}})]),s._v(" "),n("p",[s._v("我们进行打包并打开html页面发现所有资源一次性全部加载进来了， 而utils的资源我们需要使用到的时候加载，这个时候应该怎么去做呢?"),n("br"),s._v(" "),n("strong",[s._v("我们可以在点击的时候引入，从而达到懒加载的效果")]),n("br"),s._v(" "),n("img",{attrs:{src:a(601)}})]),s._v(" "),n("h2",{attrs:{id:"preloading-prefetching"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#preloading-prefetching"}},[s._v("#")]),s._v(" Preloading  Prefetching")]),s._v(" "),n("p",[s._v("Prefetching：预获取，异步加载代码时，在网络空闲的时候帮我们直接加载引入的模块\nPreloading：预加载，异步加载代码时，同步并行加载模块\n"),n("img",{attrs:{src:a(602)}})]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"},[s._v("与prefetch指令相比preload指令有许多不同之处")]),n("ol",[n("li",[n("span",{staticClass:"lineHeight"},[s._v("preload chunk")]),s._v("会在父"),n("span",{staticClass:"lineHeight"},[s._v("chunk")]),s._v("加载时，以并行方式开始加载。"),n("span",{staticClass:"lineHeight"},[s._v("prefetch chunk")]),s._v("会在父"),n("span",{staticClass:"lineHeight"},[s._v("chunk")]),s._v("加载结束后开始加载")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("preload chunk")]),s._v("具有中等优先级，并立即下载。"),n("span",{staticClass:"lineHeight"},[s._v("prefetch chunk")]),s._v("在浏览器闲置时下载。")]),s._v(" "),n("li",[n("span",{staticClass:"lineHeight"},[s._v("preload chunk")]),s._v("会在父 "),n("span",{staticClass:"lineHeight"},[s._v("chunk")]),s._v("中立即请求，用于当下时刻。"),n("span",{staticClass:"lineHeight"},[s._v("prefetch chunk")]),s._v("会用于未来的某个时刻。")])])]),n("h2",{attrs:{id:"第三方扩展设置-cdn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第三方扩展设置-cdn"}},[s._v("#")]),s._v(" 第三方扩展设置 CDN")]),s._v(" "),n("p",[n("strong",[s._v("关于CDN的解释：CDN就是一个内容分发的网络。它的作用就是有了这个CDN的服务器网络之后，让用户请求资源的时候可以先以最快的速度找到离他最近的资源服务器，然后去取回他想要的内容。这样的话呢，我们就可以更快更可靠的把用户所需要的内容更快的发给对方。")]),s._v(" "),n("img",{attrs:{src:a(603)}})]),s._v(" "),n("p",[s._v("代码解析：这里我们在入口文件main.js直接访问_这个变量，并没有去引入lodash这个库。 在配置文件中我们配置了externals表示不需要被webpack打包的内容。其中配置了lodash: _ 表示lodash对应的导出变量。 然后从lodash的官网了解到这个库对应的cdn服务器地址是https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js。 所以当我们访问_这个变量时，都会去对应的cdn服务器去加载对应的变量")]),s._v(" "),n("h2",{attrs:{id:"打包dll库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打包dll库"}},[s._v("#")]),s._v(" 打包Dll库")]),s._v(" "),n("p",[s._v("在实际的项目中有一些资源体积比较大的并且代码不经常变动，所以针对这些我们没有必要每次都去做打包。所以我们可以把这些资源单独的抽离，做成一个dll动态类型库的文件。"),n("br"),s._v(" "),n("strong",[s._v("我们可以穿创建一个dll文件，进行打包的配置")]),s._v(" "),n("img",{attrs:{src:a(604)}})]),s._v(" "),n("p",[s._v("这个单独的配置文件是做什么呢 ？它是把一些第三方的模块单独进行一次打包，生成一个dll文件。dll文件就是所有的第三方模块打包的代码。 然后我们用library把这个第三方模块所有的代码通过全局变量的形式暴露了出去。"),n("br"),s._v(" "),n("strong",[s._v("使用 先安装npm i add-asset-html-webpack-plugin -D")]),n("br"),s._v("\n这个插件会帮我们自动引入我们打包好的dll库"),n("br"),s._v(" "),n("img",{attrs:{src:a(605)}})]),s._v(" "),n("p",[n("strong",[s._v("总结: 首先当我们基于vue或者JQuery或者lodash库等 进行开发的时候。它们的代码不是经常发生变化的。如果我们每次开发的时候都把这个库进行打包到对应的bundle中去。时间消耗是非常的大的。因此，我们利用DllPlugin进行webpack单独的配置，将这些库抽离出来做成单独的文件。因此当我们使用时，只需要找这些dll单独的文件进行使用就行了。")])]),s._v(" "),n("h2",{attrs:{id:"css-抽离和压缩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-抽离和压缩"}},[s._v("#")]),s._v(" CSS 抽离和压缩")]),s._v(" "),n("p",[s._v("针对css的处理，一共有两个部分。一个是将css代码进行单独的抽离，一个是将抽离出来的css代码进行压缩")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装两个库")]),s._v("\n$ npm i mini"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("css"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("extract"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin css"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("minimizer"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// mini-css-extract-plugin 作用是将css代码单独进行抽离")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// css-minimizer-webpack-plugin 代码是将css代码进行压缩")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("使用1 将css代码抽离:\n"),n("img",{attrs:{src:a(606)}})]),s._v(" "),n("p",[s._v("使用2 将css代码压缩\n"),n("img",{attrs:{src:a(607)}})]),s._v(" "),n("p",[s._v("总结: css代码的压缩我们只需要在生成环境中进行打包压缩就可以了。")]),s._v(" "),n("h2",{attrs:{id:"terserplugin-压缩-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#terserplugin-压缩-js"}},[s._v("#")]),s._v(" TerserPlugin 压缩 JS")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://webpack.docschina.org/plugins/terser-webpack-plugin/#root"}},[s._v("TerserPlugin文档以及配置")])]),s._v(" "),n("h2",{attrs:{id:"scope-hoisting-优化打包速度"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#scope-hoisting-优化打包速度"}},[s._v("#")]),s._v(" scope hoisting 优化打包速度")]),s._v(" "),n("p",[s._v("在webpack在打包时会进行一个静态的分析。，它回去分析其中的一些代码是否可以做变量的提升，然后将其都放在一个作用域下。")]),s._v(" "),n("img",{attrs:{src:a(608)}}),s._v("  \n打包后的文件可以清楚的看到针对utils以及main都分别生成了对应的作用域\n"),n("img",{attrs:{src:a(609)}}),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 作用域优化 在prod文件中进行修改   webpack.optimize.ModuleConcatenationPlugin()")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" relativePath "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./paths'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" CleanWebpackPlugin "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'clean-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" CopyWeebpackPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'copy-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" MiniCssExtractPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mini-css-extract-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" CssMinimizerWebpackPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-minimizer-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" webpack "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  devtool"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  optimization"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    minimizer"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CssMinimizerWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CopyWeebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 拷贝配置项")]),s._v("\n      patterns"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          from"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("relativePath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./public'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//拷贝public目录")]),s._v("\n          globOptions"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            ignore"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 忽略不拷贝的内容 **表示从from配置的目录下查找")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MiniCssExtractPlugin")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css/[name].css'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("webpack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("optimize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ModuleConcatenationPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br")])]),n("p",[s._v("再次进行打包后，很明显就已经不一样了，之前是main.js对应一份代码，utils对应一份代码，现在将utils的代码拿到了main文件中。\n"),n("img",{attrs:{src:a(610)}})]),s._v(" "),n("p",[n("strong",[s._v("注意: 在prod文件中mode改为development只是为了更好的显示scope hoisting的概念以及ModuleConcatenationPlugin作用，在实际的production模式下，默认做了很多压缩的配置和优化，是不需要用到webpack.optimize.ModuleConcatenationPlugin()的")])]),s._v(" "),n("h2",{attrs:{id:"tree-shaking-usedexports配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking-usedexports配置"}},[s._v("#")]),s._v(" Tree Shaking usedExports配置")]),s._v(" "),n("p",[n("strong",[s._v("Tree Shaking的概念: 把一个模块没有用到的内容进行剔除")]),s._v("\n假设有这么一个模块导出了foo1 foo2 两个函数， 但是我们只用了其中的一个函数foo1: 列:"),n("br"),s._v(" "),n("img",{attrs:{src:a(611)}})]),s._v(" "),n("p",[s._v("我们进行打包后发现: foo2依旧被打包进去了:"),n("br"),s._v(" "),n("img",{attrs:{src:a(612)}})]),s._v(" "),n("p",[s._v("那么，我们如果想在打包的时候对没有用到的内容进行剔除，我们需要怎么去做呢?  ==> 配置"),n("span",{staticClass:"lineHeight"},[s._v("usedExports")]),s._v("开启"),n("span",{staticClass:"lineHeight"},[s._v("Tree Shaking ")])]),s._v(" "),n("img",{attrs:{src:a(613)}}),s._v(" "),n("p",[s._v("进行打包后发现:"),n("br"),s._v(" "),n("img",{attrs:{src:a(614)}})]),s._v(" "),n("p",[n("strong",[s._v("注意 : 在development环境打包下，即使你配置了"),n("span",{staticClass:"lineHeight"},[s._v("three-shaking")]),s._v("也不会直接从打包生成的出口文件剔除掉。它只是会在代码里提示你一下。之所以是这样是因为我们在开发环境生成的代码需要做一些调试。如果"),n("span",{staticClass:"lineHeight"},[s._v("three-shaking")]),s._v("把一些代码剔除了，那么在做调试的时候代码对应的行数"),n("span",{staticClass:"lineHeight"},[s._v("(sourceMap)")]),s._v("就不正确了")])]),s._v(" "),n("p",[n("strong",[s._v("如果硬要开启开发环境下的Three Shaking则需要配置minimize: true 开启TerserPlugin。 这样就能达到Three Shaking的作用了")]),n("br"),s._v(" "),n("img",{attrs:{src:a(615)}})]),s._v(" "),n("h2",{attrs:{id:"tree-shaking-sideeffects配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking-sideeffects配置"}},[s._v("#")]),s._v(" Tree Shaking sideEffects配置")]),s._v(" "),n("p",[s._v("分析: 在某一个模块下面可能会有好几个函数是不被使用的，这个时候我们可以用usedExports进行标记，然后配置minimize: true。从而达到没有使用到的内容进行剔除的这么一个功能。但是这种情况并不能满足我们所有树摇的需求。")]),s._v(" "),n("p",[s._v("接下来我们看一个列子:\n"),n("img",{attrs:{src:a(616)}})]),s._v(" "),n("p",[s._v("实际上我们的需求就是不需要使用这个utils的希望可以把这个副作用进行清除，那么如何可以对这个utils进行一个树摇呢? "),n("a",{attrs:{href:"https://webpack.docschina.org/guides/tree-shaking/#mark-the-file-as-side-effect-free"}},[s._v("side-effect-free")]),n("br"),s._v(" "),n("img",{attrs:{src:a(617)}})]),s._v(" "),n("p",[s._v("当设置了"),n("span",{staticClass:"lineHeight"},[s._v('"sideEffects": false')]),s._v("时： 去除或者关闭模块的副作用功能。只针对"),n("span",{staticClass:"lineHeight"},[s._v("import “xxxxx”。")]),s._v("的引入模式有效，不对"),n("span",{staticClass:"lineHeight"},[s._v("import x from xxx")]),s._v("或者"),n("span",{staticClass:"lineHeight"},[s._v("import {x} from xxx")]),s._v("起作用"),n("br"),s._v("\n当我们需要对其中一个模块不需要做副作用清除时，我们可以将"),n("span",{staticClass:"lineHeight"},[s._v("sideEffects")]),s._v("配置成数组:  意思是不对其中某个模块进行副作用剔除"),n("br"),s._v(" "),n("img",{attrs:{src:a(618)}})]),s._v(" "),n("p",[n("strong",[s._v("如上图所示，我们可以对title以及所有css文件不进行副作用的剔除。 css除了以上的配置，还有另外一种配置用法更多")]),n("br"),s._v(" "),n("img",{attrs:{src:a(619)}})]),s._v(" "),n("h2",{attrs:{id:"资源压缩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#资源压缩"}},[s._v("#")]),s._v(" 资源压缩")]),s._v(" "),n("p",[s._v("服务端提供了静态资源，这些数据都是经过webpack打包的，所以我们可以在webpack打包的过程中对资源进行压缩"),n("br"),s._v(" "),n("strong",[s._v("使用")]),n("br"),s._v(" "),n("img",{attrs:{src:a(620)}})]),s._v(" "),n("p",[n("strong",[s._v("总结: 利用webpack对我们前端的静态资源进行一个整体的压缩操作。然后得到的静态资源就可以往服务器进行部署，然后接下来客户端在请求的时候可以告诉服务端支持gzip的格式。服务端就可以把资源直接返回客户端直接进行使用。好处: 以前可能通过http请求100mb的数据，现在进行压缩后，可能只需要0.8*100 80mb左右的数据了")])]),s._v(" "),n("h2",{attrs:{id:"webpack打包library库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack打包library库"}},[s._v("#")]),s._v(" webpack打包library库")]),s._v(" "),n("p",[n("strong",[s._v("当我们需要自己打包一个库去给别人使用的时候需要怎么去配置呢?")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 新建一个webpack.library.js文件 并做以下配置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("CleanWebpackPlugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'clean-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  devtool"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  entry"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/library.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'library.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出打包的名称")]),s._v("\n    path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'library'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定的路径")]),s._v("\n    libraryTarget"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'umd'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 表示所有支持所有的引入方式")]),s._v("\n    library"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'library'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 往全局注入的变量名称，通过这个变量可以访问导出的值")]),s._v("\n    globalObject"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'this'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 编译后self的名称 一般为this")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// publicPath: '/'")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CleanWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      title"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      template"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./public/index.html'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在package.json中新建一个打包命令 library")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --config ./config/webpack.common.js --env production"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack server --config ./config/webpack.common.js --env development"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dll"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --config ./config/webpack.dll.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"library"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --config ./webpack.library.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ts-verify"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tsc"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 然后在./src/library.js中做以下代码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("foo1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("b\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("foo2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("b\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n 直接进行npm run library后 打开对应的html 可以通过library这个变量分别访问到foo1以及foo2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br")])]),n("h2",{attrs:{id:"打包时间和内容分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打包时间和内容分析"}},[s._v("#")]),s._v(" 打包时间和内容分析")]),s._v(" "),n("p",[n("strong",[s._v("在打包的过程中呢，我们需要对打包的过程进行模块打包时间的分析以及内容的分析，怎么去做呢?")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包的时间 ")]),s._v("\n$ npm i speed"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("measure"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("使用:\n"),n("img",{attrs:{src:a(621)}})]),s._v(" "),n("p",[s._v("然后我们进行打包之后可以看到打包各个plugin以及loader所用的时间，可以针对其时间的长短去思考优化的点。\n"),n("img",{attrs:{src:a(622)}})]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 内容分析")]),s._v("\n$ npm i webpack"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bundle"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("analuzer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("img",{attrs:{src:a(623)}}),s._v(" "),n("p",[s._v("打包后会自动弹出分析页面。 可以清楚的看到我们打包了哪些模块，内容为多大。"),n("br"),s._v(" "),n("img",{attrs:{src:a(624)}})])])}),[],!1,null,null,null);t.default=e.exports}}]);